{% extends 'base.html' %}
{% block content %}
    <div class="col-md-12">
        <br>
        <a href="{% url 'dashboard' %}"><button type="button" class="btn btn-primary">Home</button></a>
        <a href="{% url 'patient_add' %}"><button type="button" class="btn btn-primary">Add Patient</button></a>

        <br><br><br>
        <div class="content-panel">
            <table class="table table-striped table-advance table-hover patient-table table table-bordered">
                <h2 class="text-center">Patient List</h2>
                <div class="input-group custom-search-form col-md-4" style="left: 5px">
                    <input type="text" class="form-control search-patient" placeholder="Search...">
                    <span class="input-group-btn">
                        <button class="btn btn-default" type="button">
                            <i class="fa fa-search"></i>
                        </button>
                    </span>
                </div>
                <hr>
                <thead>
                <tr>
                    <th>Patient Name</th>
                    <th>Patient ID</th>
                    <th>Phone</th>
                    <th>Cnic</th>
                    <th>Date of Birth</th>
                    <th>Sex</th>
                    <th>Blood Group</th>
                    <th>Actions</th>
                </tr>
                </thead>
                <tbody class="patient-table-body">
                {% for patient in patients %}
                    <tr>
                        <td><a href="#">{{ patient.first_name }} {{ patient.last_name }}</a></td>
                        <td class="hidden-phone">{{ patient.patient_id }}</td>
                        <td>{{ patient.phone }}</td>
                        <td>{{ patient.cnic }} </td>
                        <td>{{ patient.date_of_birth  }}</td>
                        <td>{{ patient.sex }}</td>
                        <td>{{ patient.blood_group }}</td>
                        <td>
                            <a href="{% url 'patient_update' pk=patient.id%}"><button class="btn btn-primary btn-xs" style="background-color: #d8bc60; border-color: #d8bc60 " title="Edit Patient"><i class="fa fa-edit"></i></button></a>
                            <a href="{% url 'patient_add_appointment' patient_id=patient.id %}"><button class="btn btn-primary btn-xs" title="Add Appointment"><i class="fa fa-plus"></i></button></a>
                            <a href="{% url 'patient_appointments' patient_id=patient.id %}"><button class="btn btn-success btn-xs" title="Appointments List"><i class="fa fa-eye"></i></button></a>
                            <!--<a href="{% url 'patient_delete' pk=patient.id %}"><button class="btn btn-danger btn-xs"><i class="fa fa-trash-o "></i></button></a>-->
                        </td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    <script>
        $(document).ready(function(){
          $(".search-patient").on("keyup", function() {
            var value = $(this).val().toLowerCase();
            $(".patient-table-body tr").filter(function() {
              $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
            });
          });
        });
        </script>
{% endblock %}